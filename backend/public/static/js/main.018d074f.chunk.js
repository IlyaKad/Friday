(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{401:function(e,t){},509:function(e,t){},626:function(e,t,r){},627:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(16),o=r.n(s),c=r(30),i=r(4),u=r.n(i),l=r(10),d=r(11),p=r(12),b=r(14),h=r(13);var f=r(311),j="/api/",m=r.n(f).a.create({withCredentials:!0}),v=function(e,t){return y(e,"GET",t)},g=function(e,t){return y(e,"POST",t)},O=function(e,t){return y(e,"PUT",t)},x=function(e,t){return y(e,"DELETE",t)};function y(e){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(u.a.mark((function e(t){var r,n,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"GET",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,m({url:"".concat(j).concat(t),method:r,data:n,params:"GET"===r?n:null});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(r,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var w={login:function(e){return N.apply(this,arguments)},logout:function(){return A.apply(this,arguments)},signup:function(e){return S.apply(this,arguments)},getUsers:function(){return v("user")},getById:function(e){return v("user/".concat(e))},remove:function(e){return x("user/".concat(e))},update:function(e){return C.apply(this,arguments)},getLoggedinUser:U,setLoggedinUser:function(){return JSON.parse(sessionStorage.setItem("loggedinUser"))}};function C(){return(C=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("user/".concat(t._id),t);case 2:t=e.sent,U()._id===t._id&&D(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("auth/login",t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",D(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",D(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,g("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function U(){return JSON.parse(sessionStorage.getItem("loggedinUser")||null)}function B(){return function(){var e=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_START"}),e.next=4,w.getUsers();case 4:r=e.sent,t({type:"SET_USERS",users:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("UserActions: err in loadUsers",e.t0);case 11:return e.prev=11,t({type:"LOADING_DONE"}),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}function T(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.remove(e);case 3:r({type:"REMOVE_USER",userId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("UserActions: err in removeUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function I(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.login(e);case 3:return n=t.sent,r({type:"SET_USER",user:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function M(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.signup(e);case 3:n=t.sent,r({type:"SET_USER",user:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function _(){return function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}var E=r(34),R=r(27),P={getNameOfMonth:function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},formatDate:function(e){return new Intl.DateTimeFormat("en",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(e)}};var G={query:function(e){return L.apply(this,arguments)},removeBoard:function(e){return x("board/".concat(e))},getById:function(e){return v("board/".concat(e))},addBoard:function(e,t){return Q.apply(this,arguments)},addGroupToBoard:function(e,t){return F.apply(this,arguments)},removeGroupFromBoard:function(e,t,r){return J.apply(this,arguments)},removeTaskFromGroup:function(e,t,r,n){return W.apply(this,arguments)},updateTask:function(e){return H.apply(this,arguments)},updateGroup:function(e){return X.apply(this,arguments)},updateBoard:function(e){return K.apply(this,arguments)},updateBoardAfterDrag:function(e){return z.apply(this,arguments)}};function L(){return(L=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v("board",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(l.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=JSON.parse(JSON.stringify(t))).groups.unshift(Z(r)),a=V(r,"Added a new group to board: ".concat(t.title,". ")),n.activities=[a].concat(Object(E.a)(n.activities)),O("board",n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function J(){return(J=Object(l.a)(u.a.mark((function e(t,r,n){var a,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(JSON.stringify(t)),s=a.groups.findIndex((function(e){return e.id===n})),o=V(r,"Removed the following group: ".concat(a.groups[s].title,".")),a.groups.splice(s,1),a.activities=[o].concat(Object(E.a)(a.activities)),O("board",a),e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function W(){return(W=Object(l.a)(u.a.mark((function e(t,r,n,a){var s,o,c,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.parse(JSON.stringify(t)),o=s.groups.findIndex((function(e){return e.id===n})),c=s.groups[o].tasks.findIndex((function(e){return e.id===a})),i=s.groups[o].tasks[c].title,l=V(r," removed the Task: ".concat(i," \n  from following Group: ").concat(s.groups[o].title)),s.activities=[l].concat(Object(E.a)(s.activities)),s.groups[o].tasks.splice(c,1),O("board",s),e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function e(t){var r,n,a,s,o,c,i,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.userId,s=t.taskId,o=t.newValue,c=t.type,e.prev=1,i=JSON.parse(JSON.stringify(r)),s?(p=i.groups.map((function(e){if(e.id===n){var t=e.tasks.map((function(e){if(e.id===s){var t=q(o,a,e,c);i.activities=[t].concat(Object(E.a)(i.activities)),e[c]=o}return e}));return e.tasks=t,e}return e})),i.groups=p):(l=i.groups.findIndex((function(e){return e.id===n})),i.groups[l].tasks.push($(a,o)),d=V(a,"Added a new task: ".concat(o,"\n    to the following Group: ").concat(r.groups[l].title)),i.activities=[d].concat(Object(E.a)(i.activities))),O("board",i),e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function V(e,t){return{id:ee(),txt:t,createdAt:Date.now(),byMember:e}}function q(e,t,r,n){switch(n){case"dueDate":var a=[P.formatDate(e.startDate),P.formatDate(e.endDate)];return V(t,"Updated the ".concat(n,' for task: "').concat(r.title,'" from ').concat(a[0]," until ").concat(a[1],"."));case"title":return V(t,"Changed ".concat(r.title,"'s ").concat(n," to : ").concat(e,"."));case"members":return V(t,'Amended the task members for: "'.concat(r.title,'" task.'));case"updates":var s=e[0].txt.toString();return V(t,'Sent a message: "'.concat(s,'" in ').concat(r.title,"'s chat."));default:return V(t,"Changed ".concat(r.title,"'s task ").concat(n," to : ").concat(e.txt,"."))}}function z(){return(z=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("board",t);case 3:return e.abrupt("return",t);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(){return(X=Object(l.a)(u.a.mark((function e(t){var r,n,a,s,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.userId,s=t.newValue,o=t.type,e.prev=1,c=JSON.parse(JSON.stringify(r)),i=r.groups.map((function(e){if(e.id===n){if("color"===o){e.style[o]=s;var t=V(a,'Changed the color theme for Group:"'.concat(e.title,'".'));c.activities=[t].concat(Object(E.a)(c.activities))}else{e[o]=s;var r=V(a,"Updated the ".concat(o,' of Group :"').concat(e.title,'".'));c.activities=[r].concat(Object(E.a)(c.activities))}return e}return e})),c.groups=i,O("board",c),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(t){var r,n,a,s,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,t.groupId,n=t.userId,a=t.newValue,s=t.type,e.prev=1,(o=JSON.parse(JSON.stringify(r)))[s]=a,c="",c=Array.isArray(a)?V(n," amended the board members."):V(n,"Updated the ".concat(s," of ").concat(r.title," to ").concat(a,".")),o.activities=[c].concat(Object(E.a)(o.activities)),O("board",o),e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Q(){return(Q=Object(l.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Y(t,r),a=V(r,"Created a new board named: ".concat(n.title,".")),n.activities=[a].concat(Object(E.a)(n.activities)),e.abrupt("return",g("board",n));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Y(e,t){return{title:e,createdAt:Date.now(),createdBy:t,members:[t],groups:[Z(t)],activities:[]}}function Z(e){return{id:ee(),title:"New Group",createdAt:Date.now(),createdBy:e,style:{color:"#00ca72"},statuses:[{id:ee(),color:"#00c875",txt:"Done"},{id:ee(),color:"#fec06e",txt:"Working on it"},{id:ee(),color:"#e2445c",txt:"Stuck"}],priorities:[{txt:"Low",color:"#00c875",id:ee()},{txt:"Medium",color:"#6b97f1",id:ee()},{txt:"High",color:"#ff7b4e",id:ee()},{txt:"Urgent",color:"#ff265d",id:ee()}],tasks:[$(e,"New item")]}}function $(e,t){var r;return r={id:ee(),title:t,updates:[],members:[],status:{id:ee(),color:"#dbdbdbf5",txt:"No status yet"},priority:{id:ee(),color:"#dbdbdbf5",txt:"Set Priority"}},Object(R.a)(r,"updates",[]),Object(R.a)(r,"createdAt",Date.now()),Object(R.a)(r,"createdBy",e),Object(R.a)(r,"dueDate",{startDate:"",endDate:""}),r}function ee(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function te(e,t){return function(){var e=Object(l.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.query(t);case 3:return n=e.sent,r({type:"SET_BOARDS",boards:n}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log("board.action: err in loadboards():",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function re(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.getById(e);case 3:n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("board.action: err in loadBoard():",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ne(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.updateTask(e);case 3:n=t.sent,r({type:"UPDATE_BOARD",board:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({type:"UPDATE_BOARD",board:e.board});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ae(e,t){return function(){var r=Object(l.a)(u.a.mark((function r(n){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,G.addBoard(e,t);case 3:a=r.sent,n({type:"ADD_BOARD",savedBoard:a}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("board.action: err in addBoard():",r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}var se=r.p+"static/media/logo.2a97494b.png",oe=r(51),ce=r(658),ie=r(2),ue=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).switchLink=function(){var t=e.props.pathname;return"/login/"===t?Object(ie.jsx)(oe.c,{className:"link-btn",to:"/",children:"Home"}):"/"===t?Object(ie.jsx)(oe.c,{className:"link-btn",to:"/login/",children:"Login"}):"/signup/"===t?Object(ie.jsx)(oe.c,{className:"link-btn",to:"/",children:"Home"}):void 0},e}return Object(p.a)(r,[{key:"render",value:function(){return Object(ie.jsxs)("div",{className:"home-header-container flex space-between align-center",children:[Object(ie.jsxs)("div",{className:"logo-container flex align-center",children:[Object(ie.jsx)(oe.c,{to:"/",children:Object(ie.jsx)("img",{src:se,alt:"logo"})}),Object(ie.jsx)("span",{children:"Friday"})]}),Object(ie.jsxs)("ul",{className:"clean-list",children:[Object(ie.jsx)(ce.a,{variant:"contained",size:"small",children:this.switchLink()}),Object(ie.jsx)(ce.a,{variant:"contained",size:"small",children:Object(ie.jsx)(oe.c,{className:"link-btn",to:"/signup/",children:"SignUp"})})]})]})}}]),r}(n.Component),le=r.p+"static/media/office.37b08be2.png",de=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).setGuestUser=Object(l.a)(u.a.mark((function t(){var r,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.login({username:"guest@welcome.com",password:"guest1"});case 2:if(!(r=t.sent)){t.next=10;break}return t.next=6,e.props.loadBoards(r._id);case 6:(n=t.sent).length||e.props.addBoard("Start here",r._id),a=(null===n||void 0===n?void 0:n.length)?"/board/".concat(n[0]._id):"/board",e.props.history.push(a);case 10:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props.location;return Object(ie.jsxs)("section",{className:"home-page",children:[Object(ie.jsx)(ue,{pathname:e.pathname}),Object(ie.jsx)("div",{className:"hero",children:Object(ie.jsxs)("div",{className:"hero-inner-container flex",children:[Object(ie.jsxs)("div",{className:"hero-cta",children:[Object(ie.jsx)("h3",{children:"Welcome To Friday"}),Object(ie.jsx)("h4",{children:"Manage your team with ease and feel your friday getting closer."}),Object(ie.jsx)("button",{className:"guest-user-btn",onClick:this.setGuestUser,children:"Try As a Guest"})]}),Object(ie.jsx)("img",{src:le,alt:"office"})]})})]})}}]),r}(a.a.Component);var pe={login:I,loadBoards:te,loadBoard:re,loadUser:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.getById(e);case 3:return n=t.sent,r({type:"SET_USER",user:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.log("UserActions: err in loadUsers",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},addBoard:ae},be=Object(c.b)((function(e){return{}}),pe)(de),he=r(8),fe=r(666),je=r(149),me=r.n(je),ve=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",loginCred:{username:"",password:""}},e.loaduserBoards=function(){var t=Object(l.a)(u.a.mark((function t(r){var n,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.props.loggedInUser)&&(a=e.props.loadBoards(n._id),s=a.length?"/board/".concat(a[0]._id):"/board",e.props.history.push(s));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loginHandleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState((function(e){return{loginCred:Object(he.a)(Object(he.a)({},e.loginCred),{},Object(R.a)({},n,a))}}))},e.doLogin=function(){var t=Object(l.a)(u.a.mark((function t(r){var n,a,s,o,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.loginCred,a=n.username,s=n.password,a&&s){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:return t.prev=4,t.next=7,e.props.login({username:a,password:s});case 7:if(!(o=t.sent)){t.next=14;break}return t.next=11,e.props.loadBoards(o._id);case 11:c=t.sent,i=c.length?"/board/".concat(c[0]._id):"/board",e.props.history.push(i);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),e.setState({msg:"Login failed, try again."});case 19:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loggedInUser;if((0,e.loadUsers)(),t){var r=this.props.loadBoards(t._id),n=r.length?"/board/".concat(r[0]._id):"/board";this.props.history.push(n)}}},{key:"render",value:function(){var e,t=this.props,r=(t.loggedInUser,t.location);return Object(ie.jsxs)("section",{className:"home-page",children:[Object(ie.jsx)(ue,{pathname:r.pathname}),Object(ie.jsx)("div",{className:"hero",children:Object(ie.jsx)("div",{className:"hero-inner-container flex",children:Object(ie.jsxs)("form",{className:"login-form flex column align-center",onSubmit:this.doLogin,children:[Object(ie.jsx)("span",{className:"lock-sign-container",children:Object(ie.jsx)(me.a,{})}),Object(ie.jsx)("h2",{children:"Login"}),Object(ie.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"User Name",autoComplete:"email",type:"text",name:"username",value:this.state.loginCred.username,onChange:this.loginHandleChange,autoFocus:!0}),Object(ie.jsx)(fe.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"text",label:"Password",name:"username",autoComplete:"email"},Object(R.a)(e,"type","password"),Object(R.a)(e,"name","password"),Object(R.a)(e,"value",this.state.loginCred.password),Object(R.a)(e,"onChange",this.loginHandleChange),e)),Object(ie.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",style:{backgroundColor:"#d85597",color:"white"},children:"Log in"})]})})})]})}}]),r}(n.Component),ge={login:I,logout:_,signup:M,removeUser:T,loadUsers:B,loadBoards:te},Oe=Object(c.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser,isLoading:e.systemModule.isLoading,boards:e.boardModule.boards}}),ge)(ve),xe=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",signupCred:{username:"",password:"",fullname:""}},e.signupHandleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState((function(e){return{signupCred:Object(he.a)(Object(he.a)({},e.signupCred),{},Object(R.a)({},n,a))}}))},e.doLogin=function(){var t=Object(l.a)(u.a.mark((function t(r){var n,a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.loginCred,a=n.username,s=n.password,a){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:o={username:a,password:s};try{e.props.login(o),e.setState({loginCred:{username:"",password:""}})}catch(c){e.setState({msg:"Login failed, try again."})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.doSignup=function(){var t=Object(l.a)(u.a.mark((function t(r){var n,a,s,o,c,i,l,d,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.props,a=n.loggedInUser,n.loadUsers,n.loadBoards,s=e.state.signupCred,o=s.username,c=s.password,i=s.fullname,o&&c&&i){t.next=5;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 5:l={username:o,password:c,fullname:i},e.props.signup(l),a&&(d=e.props.loadBoards(a._id),p=d.length?"/board/".concat(d[0]._id):"/board",e.props.history.push(p)),e.setState({signupCred:{username:"",password:"",fullname:""}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeUser=function(t){e.props.removeUser(t)},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loggedInUser,r=e.loadUsers,n=e.loadBoards;if(r(),t){var a=n(t._id),s=a.length?"/board/".concat(a[0]._id):"/board";this.props.history.push(s)}}},{key:"render",value:function(){var e,t=this.props,r=(t.loggedInUser,t.location);return Object(ie.jsxs)("section",{className:"home-page",children:[Object(ie.jsx)(ue,{pathname:r.pathname}),Object(ie.jsx)("div",{className:"hero",children:Object(ie.jsx)("div",{className:"hero-inner-container flex",children:Object(ie.jsxs)("form",{className:"login-form flex column align-center",onSubmit:this.doSignup,children:[Object(ie.jsx)("span",{className:"lock-sign-container",children:Object(ie.jsx)(me.a,{})}),Object(ie.jsx)("h2",{children:"SignUp"}),Object(ie.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"User Name",autoComplete:"email",type:"text",name:"username",onChange:this.signupHandleChange,autoFocus:!0}),Object(ie.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Full Name",autoComplete:"full name",type:"text",name:"fullname",onChange:this.signupHandleChange,autoFocus:!0}),Object(ie.jsx)(fe.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"text",label:"Password",name:"username",autoComplete:"email"},Object(R.a)(e,"type","password"),Object(R.a)(e,"name","password"),Object(R.a)(e,"onChange",this.signupHandleChange),Object(R.a)(e,"autoFocus",!0),e)),Object(ie.jsx)(ce.a,{type:"submit",fullWidth:!0,variant:"contained",style:{backgroundColor:"#d85597",color:"white"},children:"Sign Up"})]})})})]})}}]),r}(n.Component),ye={login:I,logout:_,signup:M,removeUser:T,loadUsers:B,loadBoards:te},ke=Object(c.b)((function(e){return{users:e.userModule.users,loggedInUser:e.userModule.loggedInUser,isLoading:e.systemModule.isLoading}}),ye)(xe),we=r(630),Ce=r(317),Ne=r.n(Ce),Se=r(316),Ae=r.n(Se),De=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props,t=e.user,r=e.logout;return Object(ie.jsxs)("header",{className:"sideheader-container flex column",children:[Object(ie.jsx)(oe.b,{className:"logo-link",to:"/",children:Object(ie.jsx)("img",{src:se,alt:"logo"})}),Object(ie.jsx)("span",{children:Object(ie.jsx)(Ae.a,{})}),Object(ie.jsx)("div",{className:"user-name",children:Object(ie.jsxs)("h1",{children:["Hello ",t.fullname.split(" ")[0]]})}),Object(ie.jsxs)("div",{className:"side-header-bottom",children:[Object(ie.jsx)(we.a,{style:{width:"44px",height:"44px",backgroundColor:"#292f4c",border:"solid 2px",fontWeight:"500"},alt:"",src:"/static/images/avatar/1.jpg"}),Object(ie.jsx)("div",{className:"back-link",children:Object(ie.jsx)(oe.b,{onClick:r,to:"/",children:Object(ie.jsx)(Ne.a,{})})})]})]})}}]),r}(a.a.Component),Ue=r(152),Be=r(145),Te=r.n(Be),Ie=r(629),Me=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{groupTitle:""}},e.inputRef=a.a.createRef(),e.handleChange=function(t){var r=t.target.name,n="number"===t.target.type?+t.target.value:t.target.value;e.setState((function(e){var t=e.filterBy;return{filterBy:Object(he.a)(Object(he.a)({},t),{},Object(R.a)({},r,n))}}),(function(){}))},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.inputRef.current.focus()}},{key:"render",value:function(){var e=this;return Object(ie.jsx)("section",{className:"task-filter-section flex column align-center",children:Object(ie.jsx)("form",{className:"flex align-center",children:Object(ie.jsxs)("div",{className:"search-btn-container flex align-center",children:[Object(ie.jsx)(Te.a,{className:"search-icon-boardheader"}),Object(ie.jsx)(Ie.a,{type:"search",name:"name",placeholder:"Search",autoComplete:"off",ref:this.inputRef,onChange:function(t){e.handleChange(t)}})]})})})}}]),r}(a.a.Component),_e=r(665),Ee=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props,t=e.person,r=e.icon,n=e.onUpdateMembers,a=e.action;return t?Object(ie.jsxs)("div",{className:"person-preview flex align-center",children:[Object(ie.jsx)(we.a,{className:"avatar-container",style:{width:"24px",height:"24px",backgroundColor:"#636363",fontSize:"12px",fontWeight:"500",cursor:"pointer"},alt:t.fullname,src:t.imgUrl},t._id),Object(ie.jsx)("span",{className:"avatar-user",children:t.fullname}),r&&Object(ie.jsx)("span",{className:"user-menu-btn",onClick:function(){return n(t._id,a)},children:r})]}):Object(ie.jsx)("div",{className:"loading"})}}]),r}(n.Component),Re=r(318),Pe=r.n(Re),Ge=r(319),Le=r.n(Ge);function Fe(e){var t=e.membersIds,r=e.users,n=e.members,a=e.onUpdateMembers,s=e.isShown,o=r.filter((function(e){return-1===t.indexOf(e._id)}));return Object(ie.jsx)("section",{children:s&&Object(ie.jsxs)("div",{className:"users-menu-container",children:[Object(ie.jsx)("span",{children:"Add"}),Object(ie.jsx)("div",{className:"member-list-box",children:n.map((function(e,t){return Object(ie.jsx)(Ee,{person:e,icon:Object(ie.jsx)(Pe.a,{}),action:"remove",onUpdateMembers:a},e._id+t)}))}),Object(ie.jsxs)("div",{className:"user-list-box",children:[Object(ie.jsx)("span",{children:"Remove"}),o&&o.map((function(e){return Object(ie.jsx)(Ee,{person:e,icon:Object(ie.jsx)(Le.a,{}),action:"add",onUpdateMembers:a},e._id)}))]})]})})}var Je=r(664),We=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isShown:!1},e.toggleUsersMenu=function(){e.setState({isShown:!e.state.isShown})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.state.isShown,r=this.props,n=r.users,a=r.onUpdateMembers,s=r.membersIds,o=s.map((function(e){return n.find((function(t){return t._id===e}))}));return Object(ie.jsx)(Je.a,{onClickAway:function(){if(t)return e.setState({isShown:!1})},children:Object(ie.jsxs)("div",{className:"member-avatars-main flex justify-center",children:[Object(ie.jsx)(Fe,{users:n,members:o,membersIds:s,isShown:t,onUpdateMembers:a}),o.length?Object(ie.jsx)(_e.a,{onClick:this.toggleUsersMenu,max:3,children:o.map((function(e,t){return Object(ie.jsx)(we.a,{className:"avatar-container",style:{width:"24px",height:"24px",backgroundColor:"#636363",border:"solid 0.5px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},alt:null===e||void 0===e?void 0:e.fullname,src:null===e||void 0===e?void 0:e.imgUrl},(null===e||void 0===e?void 0:e._id)+t)}))}):Object(ie.jsx)(we.a,{className:"avatar-container",style:{backgroundColor:"#a3a3a399"},alt:"",src:"",onClick:this.toggleUsersMenu})]})})}}]),r}(n.Component),He=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isEdit:!1,titleToEdit:e.props.title},e.handleChange=function(t){var r=t.target;e.setState({titleToEdit:r.value})},e.onChangeTitle=function(t){t.preventDefault();var r=e.props,n=r.title,a=r.type,s=e.state.titleToEdit;n!==s?(e.props.onChangeTitle(s,a),e.setState({isEdit:!1})):e.setState({isEdit:!1})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.title,n=t.color,a=this.state,s=a.isEdit,o=a.titleToEdit;return s?Object(ie.jsx)("form",{className:"editable-form",onSubmit:this.onChangeTitle,children:Object(ie.jsx)("input",{className:"editable-input",autoFocus:!0,autoComplete:"off",style:{color:"".concat(n)},onChange:this.handleChange,value:o,name:"title",onBlur:this.onChangeTitle})}):Object(ie.jsx)("div",{className:"editable-txt-prev",onClick:function(){return e.setState({isEdit:!0,titleToEdit:e.props.title})},children:Object(ie.jsx)("span",{children:r})})}}]),r}(n.Component),Ve=r(102),qe=r.n(Ve),ze=r(322),Xe=r(320),Ke=r.n(Xe),Qe=function(){var e=null,t={setup:function(){return Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,v("setup-session");case 4:e=Ke()("",{reconnection:!1}),!0;case 6:case"end":return t.stop()}}),t)})))()},on:function(r,n){return Object(l.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return a.next=3,t.setup();case 3:e.on(r,n);case 4:case"end":return a.stop()}}),a)})))()},off:function(r){var n=arguments;return Object(l.a)(u.a.mark((function a(){var s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=n.length>1&&void 0!==n[1]?n[1]:null,e){a.next=4;break}return a.next=4,t.setup();case 4:s?e.off(r,s):e.removeAllListeners(r);case 5:case"end":return a.stop()}}),a)})))()},emit:function(r,n){return Object(l.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return a.next=3,t.setup();case 3:e.emit(r,n);case 4:case"end":return a.stop()}}),a)})))()},terminate:function(){e=null,!1}};return t}();r(159),r(498);var Ye=r(321),Ze=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={editorState:void 0},e.onEditorStateChange=function(t){e.setState({editorState:t})},e.mentions=function(){return e.props.users.map((function(e){return{text:e.fullname,value:e.fullname,url:"http://facebook.com"}}))},e.onUpdate=function(t){e.props.sendMsg(t),e.setState({editorState:void 0})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props,t=e.msgHandleChange,r=(e.sendMsg,e.users,this.state.editorState);return Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Ye.Editor,{wrapperClassName:"text-editor-wrapper",editorClassName:"editor-txt-area",toolbarClassName:"txt-editor-toolbar",editorState:r,onChange:t,mention:{separator:" ",trigger:"@",suggestions:this.mentions()},placeholder:"Send your update...",onEditorStateChange:this.onEditorStateChange}),Object(ie.jsx)(ce.a,{className:"chat-update-btn",variant:"contained",color:"primary",size:"small",onClick:this.onUpdate,children:"Update"})]})}}]),r}(n.Component),$e=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={update:{txt:"",src:""}},e.sendMsg=function(t){t.preventDefault();var r=e.state.update,n=e.props,a=n.task,s=n.loggedInUser,o=n.onUpdateTask;(r.createdAt=Date.now(),r.byUser=s,r.id=P.makeId(),a.updates)&&(o([r].concat(Object(E.a)(a.updates)),"updates"),Qe.emit("chat newMsg",r),e.setState({update:{from:"Me",txt:""}}))},e.msgHandleChange=function(t){var r=t.blocks,n=t.entityMap;if(Object.values(n).length){var a=t.entityMap[0].data.src;e.setState((function(e){return{update:Object(he.a)(Object(he.a)({},e.update),{},{src:a})}}))}var s=r.map((function(e){return e.text+"\n"}));e.setState((function(e){return{update:Object(he.a)(Object(he.a)({},e.update),{},{txt:s})}}))},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.closeChat,r=e.task,n=e.users,a=e.activity,s=e.activities;return Object(ie.jsx)(Je.a,{onClickAway:t,children:Object(ie.jsxs)("div",{className:"chat-container flex column",children:[Object(ie.jsxs)("div",{className:"chat-header-container",children:[Object(ie.jsx)("button",{onClick:t,children:Object(ie.jsx)(qe.a,{style:{fontSize:"20px",fontWeight:"400"}})}),r.title?Object(ie.jsxs)("h2",{children:[" ",r.title]}):Object(ie.jsx)("h2",{children:a.txt})]}),Object(ie.jsx)("div",{className:"chat-form-container flex column",children:Object(ie.jsx)(Ze,{sendMsg:this.sendMsg,msgHandleChange:this.msgHandleChange,users:n})}),r.updates&&Object(ie.jsx)("div",{className:"chat-msgs-container",children:Object(ie.jsx)("ul",{children:r.updates.map((function(e,t){return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("span",{children:Object(ie.jsx)(Ee,{person:e.byUser})}),Object(ie.jsx)("span",{className:"msg-txt-container",children:Object(ie.jsx)("pre",{children:e.txt})}),e.src&&Object(ie.jsx)("span",{className:"chat-img-container",children:Object(ie.jsx)("img",{src:e.src,alt:""})})]},e.id)}))})}),s&&Object(ie.jsx)("div",{className:"chat-msgs-container",children:Object(ie.jsx)("ul",{children:s.map((function(e,t){return Object(ie.jsxs)("li",{children:[Object(ie.jsx)("span",{children:Object(ie.jsx)(Ee,{person:e.byMember})}),Object(ie.jsx)("span",{className:"msg-txt-container",children:Object(ie.jsx)("pre",{children:e.txt})})]},e.id)}))})})]})})}}]),r}(n.Component),et=Object(c.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),{})($e),tt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isChatShown:!1},e.getUser=function(t){return e.props.users.find((function(e){return e._id===t.byMember}))},e.showActivityTime=function(e){if(e)return P.formatDate(e)},e.closeChatShow=function(){e.setState({isChatShown:!1})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.board,n=t.closeActivity;return Object(ie.jsxs)("div",{className:"board-log-container",children:[Object(ie.jsxs)("div",{className:"log-header",children:[Object(ie.jsx)(qe.a,{className:"close-log-btn",style:{fontSize:"20px",fontWeight:"400"},onClick:n}),Object(ie.jsxs)("h2",{className:"activity-title",children:["".concat(r.title),"'s Activity Log:"]})]}),Object(ie.jsx)("div",{className:"activities-container",children:Object(ie.jsx)("ul",{children:r.activities.map((function(t){return Object(ie.jsxs)("li",{className:"flex column",children:[Object(ie.jsx)("span",{className:"activity-creator",children:Object(ie.jsx)(Ee,{person:e.getUser(t)})}),Object(ie.jsxs)("div",{className:"activity-details flex column",children:[Object(ie.jsxs)("span",{children:["".concat(t.txt)," "]}),Object(ie.jsxs)("span",{className:"activity-date flex align-center  ",children:[Object(ie.jsx)(ze.a,{className:"time-icon"}),e.showActivityTime(t.createdAt)]})]}),Object(ie.jsxs)("div",{className:"activity-footer",children:[Object(ie.jsx)(ce.a,{className:"log-btn",variant:"contained",color:"primary",onClick:function(){return e.setState({isChatShown:!0})},children:"Chat about it"}),e.state.isChatShown&&Object(ie.jsx)(et,{activity:t,task:t,activities:r.activities,users:r.members,closeChat:e.closeChatShow})]})]},t.id)}))})})]})}}]),r}(n.Component),rt=r(323),nt=r.n(rt),at=(n.Component,function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={createdBy:"",isActivity:!1},e.createdByTxt=Object(l.a)(u.a.mark((function t(){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.board,t.next=3,w.getById(r.createdBy);case 3:n=t.sent,e.setState({createdBy:n});case 5:case"end":return t.stop()}}),t)}))),e.closeActivity=function(){e.setState({isActivity:!1})},e.onTaskFilter=function(t){var r=t.groupTitle;e.props.board.groups.filter((function(e){return e.title===r}))},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.createdByTxt()}},{key:"render",value:function(){var e=this,t=this.props,r=t.board,n=t.users,a=t.onAddGroup,s=t.onChangeBoardTitle,o=t.onUpdateBoardMembers,c=this.state.isActivity;return Object(ie.jsxs)("section",{className:"board-header flex column",children:[Object(ie.jsxs)("div",{className:"board-header-top-section flex",children:[Object(ie.jsxs)("div",{className:"board-details flex column",children:[Object(ie.jsx)(He,{title:r.title,onChangeTitle:s}),Object(ie.jsxs)("span",{className:"created-by",children:["Created by: ",this.state.createdBy.fullname]})]}),Object(ie.jsxs)("div",{className:"right-btns-container flex justify-between",children:[Object(ie.jsx)(We,{onUpdateMembers:o,users:n,membersIds:r.members}),Object(ie.jsxs)(ce.a,{variant:"outlined",size:"small",onClick:function(){return e.setState({isActivity:!c})},style:{marginLeft:"6px"},children:[Object(ie.jsx)(nt.a,{}),"Activities"]}),c&&Object(ie.jsx)(Je.a,{onClickAway:this.closeActivity,children:Object(ie.jsx)(tt,{users:n,board:r,closeActivity:this.closeActivity})})]})]}),Object(ie.jsxs)("div",{className:"board-header-bottom-section flex align-center space-between",children:[Object(ie.jsx)("div",{className:"flex align-center",children:Object(ie.jsx)(ce.a,{className:"add-group-btn",onClick:a,variant:"contained",color:"primary",size:"small",children:"add group"})}),Object(ie.jsx)(Me,{})]})]})}}]),r}(a.a.Component)),st=function(e){var t,r=e.startDate,n=e.endDate,a=e.groupColor,s=(e.onOpenDate,e.createdAt),o=new Date(r).getMonth(),c=new Date(r).getDate(),i=P.getNameOfMonth(o)+" "+c,u=new Date(n).getMonth(),l=new Date(n).getDate(),d=P.getNameOfMonth(u)+" "+l,p=n?i+" - "+d:i;return r||n?t=function(e,t){var r=new Date(e).getTime(),n=(new Date).getTime(),a=new Date(t).getTime();if(e&&t&&r>n)return 0;if(!t&&e&&r>n){var o=n-s;return Math.round(o/(r-s)*100)}if(!t&&e&&r<n)return 100;var c=Math.abs(n-r),i=Math.abs(a-r);return Math.round(100*c/i)}(r,n):(p="Choose Date",t=0),Object(ie.jsx)("div",{className:"progressbar-container",style:{backgroundColor:"#898686"},children:Object(ie.jsx)("div",{className:"inner-progressbar",style:{backgroundColor:a,width:t+"%"},children:Object(ie.jsx)("span",{style:{color:"#C7C1C1"===a?" #333333":"#F9F9F9"},children:p})})})},ot=r(150),ct=r.n(ot),it=r(103),ut=r.n(it),lt=r(74),dt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1},e.setCurrLabel=function(t){var r=e.props,n=r.currLabel,a=r.onChangeLabel,s=r.type;t.txt!==n.txt?(a(t,s),e.toggleMenu()):e.toggleMenu()},e.toggleMenu=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.labels,n=t.currLabel,a=this.state.isOpen;return Object(ie.jsxs)("div",{className:"labels-menu-container",children:[Object(ie.jsx)("div",{className:"selected-label",onClick:this.toggleMenu,style:{backgroundColor:n.color},children:n.txt}),a&&Object(ie.jsx)(Je.a,{onClickAway:this.toggleMenu,children:Object(ie.jsx)("div",{className:"labels-menu",children:r.map((function(t){return Object(ie.jsx)("div",{className:"label-item",style:{backgroundColor:t.color},onClick:function(){return e.setCurrLabel(t)},children:t.txt},t.id)}))})})]})}}]),r}(n.Component),pt=(r(499),r(552),r(324)),bt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isShown:!1,startDate:null,endDate:null,focusedInput:"startDate"},e.handleChange=function(){var t=e.state,r=t.startDate,n=t.endDate,a=t.focusedInput;(null===r||void 0===r?void 0:r._d)&&(null===n||void 0===n?void 0:n._d)&&e.props.changeDates({startDate:null===r||void 0===r?void 0:r._d,endDate:null===n||void 0===n?void 0:n._d},e.props.type),!(null===r||void 0===r?void 0:r._d)||(null===n||void 0===n?void 0:n._d)||a||e.props.changeDates({startDate:null===r||void 0===r?void 0:r._d,endDate:null},e.props.type)},e}return Object(p.a)(r,[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.startDate,a=r.endDate,s=r.focusedInput;!(null===n||void 0===n?void 0:n._d)||(null===a||void 0===a?void 0:a._d)||s||this.props.changeDates({startDate:null===n||void 0===n?void 0:n._d,endDate:null},this.props.type)}},{key:"render",value:function(){var e=this,t=this.props.closeDatePicker;return Object(ie.jsxs)("div",{className:"datePicker",children:[Object(ie.jsx)(pt.DayPickerRangeController,{startDate:this.state.startDate,endDate:this.state.endDate,isOutsideRange:function(){return!1},onDatesChange:function(t){var r=t.startDate,n=t.endDate;return e.setState({startDate:r,endDate:n},e.handleChange)},focusedInput:this.state.focusedInput,hideKeyboardShortcutsPanel:!0,onFocusChange:function(t){e.setState({focusedInput:t})}}),Object(ie.jsx)("button",{className:"date-btn",onClick:function(){return e.setState({focusedInput:null},t)},children:"Set"})]})}}]),r}(n.Component),ht=r(325);function ft(e){var t=e.onActionToConfirm,r=e.itemId;return Object(ie.jsx)("section",{className:"modal-container",children:Object(ie.jsxs)("div",{className:"modal-box",children:[Object(ie.jsxs)("div",{className:"modal-msg-container",children:[Object(ie.jsx)("p",{className:"modal-question",children:"Delete this item?"}),Object(ie.jsx)("p",{className:"modal-note",children:"If you confirm, it will be permanently deleted."})]}),Object(ie.jsxs)("div",{className:"modal-btns-container",children:[Object(ie.jsx)(ce.a,{className:"modal-decline-btn",onClick:function(){return t(r,"decline")},children:"Cancle"}),Object(ie.jsx)(ce.a,{className:"modal-confirm-btn",variant:"contained",onClick:function(){return t(r,"confirm")},children:"Delete"})]})]})})}var jt=r(667);function mt(e){var t=e.closeAlert;return Object(ie.jsxs)("div",{className:"alert-contaier  flex align-center",children:[Object(ie.jsx)(jt.a,{className:"success-alert flex align-center",severity:"success",children:"Item was successfully deleted!"}),Object(ie.jsx)(qe.a,{className:"close-icon",onClick:t,style:{backgroundColor:"#0f9147",width:"40px",height:"40px",color:"#fefffe",marginLeft:"-5px",marginRight:"5px",padding:"10px",borderRadius:"3px"}})]})}var vt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isOpenDate:!1,userPrefColor:e.props.userPrefColor,isChatShown:!1,isModalOpen:!1,alertIsShown:!1},e.onRemoveTask=function(t,r){var n=e.props,a=n.board,s=n.group,o=n.loggedInUser;"confirm"===r?(e.setState({isModalOpen:!1}),e.setState({alertIsShown:!0}),e.props.removeTaskFromGroup(a,o._id,s.id,t)):e.setState({isModalOpen:!1})},e.closeAlert=function(){e.setState({alertIsShown:!1})},e.onUpdateTask=function(t,r){if(t){var n=e.props,a=n.updateTask,s=n.board,o=n.group,c=n.loggedInUser,i=n.task;a({board:s,groupId:o.id,userId:c._id,taskId:i.id,newValue:t,type:r}),"dueDate"===r&&e.closeDatePicker()}},e.onUpdateTaskMembers=function(t,r){var n=e.props,a=n.updateTask,s=n.board,o=n.group,c=n.loggedInUser,i=n.task,u=i.members;if("remove"===r)var l=u.filter((function(e){return e!==t}));else l=[].concat(Object(E.a)(u),[t]);a({board:s,groupId:o.id,userId:c._id,taskId:i.id,newValue:l,type:"members"})},e.closeChatShow=function(){e.setState({isChatShown:!1})},e.closeDatePicker=function(){e.setState({isOpenDate:!1})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.task,n=t.group,a=t.userPrefColor,s=t.users,o=t.idx,c=this.state,i=c.isOpenDate,u=c.isChatShown,l=c.isModalOpen,d=c.alertIsShown;return Object(ie.jsx)(lt.b,{draggableId:r.id,index:o,children:function(t){return Object(ie.jsxs)("section",Object(he.a)(Object(he.a)({className:"task-box-container flex align-center"},t.draggableProps),{},{ref:t.innerRef,children:[d&&Object(ie.jsx)(mt,{closeAlert:e.closeAlert}),l&&Object(ie.jsx)(ft,{onActionToConfirm:e.onRemoveTask,itemId:r.id}),u&&Object(ie.jsx)(et,{task:r,users:s,closeChat:e.closeChatShow,onUpdateTask:e.onUpdateTask}),Object(ie.jsx)("span",Object(he.a)(Object(he.a)({className:"drag-icon"},t.dragHandleProps),{},{children:Object(ie.jsx)(ct.a,{})})),Object(ie.jsxs)("div",{className:"task-box-preview",children:[Object(ie.jsx)("div",{style:{backgroundColor:"".concat(a)}}),Object(ie.jsxs)("div",{className:"task-title-container",children:[Object(ie.jsx)(He,{title:r.title,onChangeTitle:e.onUpdateTask,type:"title"}),Object(ie.jsx)(ut.a,{className:"delete-icon",onClick:function(){return e.setState({isModalOpen:!0})}})]}),Object(ie.jsxs)("div",{className:"chat-icon-container flex column align-center",children:[r.updates.length>0&&Object(ie.jsx)("span",{className:"chat-msgs-count",children:r.updates.length}),Object(ie.jsx)(ht.a,{className:"chat-icon",onClick:function(){return e.setState({isChatShown:!0})}})]}),Object(ie.jsx)(We,{onUpdateMembers:e.onUpdateTaskMembers,membersIds:Object(E.a)(r.members),users:s}),Object(ie.jsx)(dt,{labels:n.statuses,currLabel:r.status,type:"status",onChangeLabel:e.onUpdateTask}),Object(ie.jsx)(Je.a,{onClickAway:e.closeDatePicker,children:Object(ie.jsxs)("div",{className:"date-picker-container flex justify-center",onClick:function(){return e.setState({isOpenDate:!0})},children:[Object(ie.jsx)(st,{startDate:r.dueDate.startDate,endDate:r.dueDate.endDate,createdAt:r.createdAt,groupColor:n.style.color}),i&&Object(ie.jsx)(bt,{closeDatePicker:e.closeDatePicker,changeDates:e.onUpdateTask,type:"dueDate"})]})}),Object(ie.jsx)(dt,{currLabel:r.priority,onChangeLabel:e.onUpdateTask,type:"priority",labels:n.priorities}),Object(ie.jsx)("div",{style:{backgroundColor:"#c4c4c4"}})]}),t.placeholder]}))}})}}]),r}(a.a.Component);var gt={removeTaskFromGroup:function(e,t,r,n){return function(){var a=Object(l.a)(u.a.mark((function a(s){var o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.removeTaskFromGroup(e,t,r,n);case 3:o=a.sent,s({type:"UPDATE_BOARD",board:o}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("board.action: err in saveBoard():",a.t0),s({type:"UPDATE_BOARD",board:e});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},updateTask:ne},Ot=Object(c.b)((function(e){return{loggedInUser:e.userModule.loggedInUser,users:e.userModule.users}}),gt)(vt);function xt(e){var t=e.onChangeColor;return Object(ie.jsx)("div",{className:"colors-palette",children:["#bc3354","#e2445c","#ff158a","#ff5bc4","#ff642f","#cab641","#fdab3d","#ffcb00","#9cd326","#037f4d","#784ad1","#a25ddc","#0386c0","#579bfc","#66ccff","#c4c4c4"].map((function(e){return Object(ie.jsx)("span",{style:{backgroundColor:e},onClick:function(){return t(e,"color")}},e)}))})}var yt=r(326),kt=r.n(yt),wt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isActionsModal:!1,isMouseOver:!1,isPalette:!1},e.toggleGroupActions=function(){e.setState({isActionsModal:!e.state.isActionsModal})},e.closeGroupActions=function(){e.setState({isActionsModal:!1}),e.setState({isPalette:!1})},e.openPalette=function(){e.setState({isPalette:!e.state.isPalette})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.group,n=t.onRemoveGroup,a=t.onChangeColor,s=t.provided,o=this.state,c=o.isMouseOver,i=o.isActionsModal,u=o.isPalette;return Object(ie.jsx)(Je.a,{onClickAway:this.closeGroupActions,children:Object(ie.jsxs)("div",{className:"group-actions-container flex align-center",children:[Object(ie.jsx)(kt.a,{className:"drop-down-icon",onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},style:{backgroundColor:c?"#ffffff":r.style.color,border:c?"1px solid ".concat(r.style.color):"#ffffff",color:c?r.style.color:"#ffffff"},onClick:this.toggleGroupActions}),Object(ie.jsx)("span",Object(he.a)(Object(he.a)({className:"drag-icon"},s.dragHandleProps),{},{children:Object(ie.jsx)(ct.a,{})})),i&&Object(ie.jsxs)("div",{className:"group-actions",children:[Object(ie.jsxs)("div",{className:"delete-action",onClick:function(){n(r.id)},children:[Object(ie.jsx)(ut.a,{className:"delete-icon"}),Object(ie.jsx)("span",{children:"Delete group"})]}),Object(ie.jsxs)("div",{className:"color-action",onClick:this.openPalette,children:[Object(ie.jsx)("div",{className:"curr-color",style:{backgroundColor:r.style.color}}),Object(ie.jsx)("span",{children:"Change group color"})]}),u&&Object(ie.jsx)(xt,{onChangeColor:a})]})]})})}}]),r}(n.Component),Ct=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).getWidth=function(){return(1/e.props.length*100).toString()},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props,t=e.bgColor;e.length;return Object(ie.jsx)("div",{style:{width:"".concat(this.getWidth(),"%")},children:Object(ie.jsx)("div",{className:"progress-bar-unit",style:{backgroundColor:t},children:"."})})}}]),r}(n.Component),Nt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={taskTitle:""},e.onAddTask=function(t,r,n){if(t.preventDefault(),r){var a=e.props,s=a.updateTask,o=a.board,c=a.group,i=(a.addTaskToGroup,a.loggedInUser),u=a.taskId;s({board:o,groupId:c.id,userId:i._id,taskId:u,newValue:r,type:n}),e.setState({taskTitle:""})}},e.onUpdateGroup=function(t,r){if(t){var n=e.props,a=n.updateGroup,s=n.board,o=n.group,c=n.loggedInUser;a({board:s,groupId:o.id,userId:c._id,newValue:t,type:r})}},e.onRemoveGroup=function(t){var r=e.props.board,n=e.props.loggedInUser._id;e.props.removeGroupFromBoard(r,n,t)},e.handleChange=function(t){var r=t.target.value;e.setState({taskTitle:r})},e.sortedTasksColors=function(t){return e.props.group.tasks.map((function(e){return e[t].color})).sort()},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,r=t.group,n=t.board,a=t.idx,s=t.users,o=this.state,c=o.taskTitle,i=(o.isActionsModal,this.sortedTasksColors("status")),u=this.sortedTasksColors("priority");return Object(ie.jsx)(lt.b,{draggableId:r.id,index:a,isCombineEnabled:!0,children:function(t){return Object(ie.jsxs)("section",Object(he.a)(Object(he.a)({className:"group-box-preview"},t.draggableProps),{},{ref:t.innerRef,children:[Object(ie.jsxs)("div",{className:"group-headers flex",children:[Object(ie.jsx)(wt,{provided:t,group:r,onRemoveGroup:e.onRemoveGroup,onChangeColor:e.onUpdateGroup}),Object(ie.jsxs)("div",{className:"group-header flex align-center",children:[Object(ie.jsx)("h4",{style:{color:"".concat(r.style.color)},className:"group-title",children:Object(ie.jsx)(He,{onChangeTitle:e.onUpdateGroup,title:r.title,color:r.style.color,type:"title"})}),Object(ie.jsx)("span",{}),Object(ie.jsx)("h4",{children:"Members"}),Object(ie.jsx)("h4",{children:"Status"}),Object(ie.jsx)("h4",{children:"Date Range"}),Object(ie.jsx)("h4",{children:"Priority"})]})]}),Object(ie.jsx)(lt.c,{droppableId:r.id,isCombineEnabled:!0,type:"task",children:function(e){return Object(ie.jsxs)("div",Object(he.a)(Object(he.a)(Object(he.a)({className:"group-tasks flex column group-droppable-container"},e.dragHandleProps),e.draggableProps),{},{ref:e.innerRef,children:[r.tasks.map((function(e,t){return Object(ie.jsx)(Ot,{task:e,board:n,group:r,users:s,idx:t,userPrefColor:r.style.color},e.id)})),e.placeholder]}))}}),Object(ie.jsxs)("div",{className:"group-bottom-section-input",children:[Object(ie.jsx)("div",{style:{backgroundColor:"".concat(r.style.color,"66")}}),Object(ie.jsx)(Je.a,{onClickAway:function(t){return e.onAddTask(t,c,"title")},children:Object(ie.jsx)("form",{onSubmit:function(t){return e.onAddTask(t,c,"title")},children:Object(ie.jsx)("input",{type:"text",placeholder:"+ Add",value:c,onChange:e.handleChange})})}),Object(ie.jsx)("div",{style:{backgroundColor:"#c4c4c4"}})]}),Object(ie.jsxs)("div",{className:"progress-bar-section",children:[Object(ie.jsx)("div",{className:"progress-bar-status flex ",children:i.map((function(e,t){return Object(ie.jsx)(Ct,{bgColor:e,length:i.length},t)}))}),Object(ie.jsx)("div",{className:"progress-bar-priority flex ",children:u.map((function(e,t){return Object(ie.jsx)(Ct,{bgColor:e,length:u.length},t)}))})]})]}))}})}}]),r}(n.Component);var St={removeGroupFromBoard:function(e,t,r){return function(){var n=Object(l.a)(u.a.mark((function n(a){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.removeGroupFromBoard(e,t,r);case 3:s=n.sent,a({type:"UPDATE_BOARD",board:s}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("board.action: err in saveBoard():",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},updateGroup:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.updateGroup(e);case 3:n=t.sent,r({type:"UPDATE_BOARD",board:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r({type:"UPDATE_BOARD",board:e.board});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateTask:ne},At=Object(c.b)((function(e){return{loggedInUser:e.userModule.loggedInUser}}),St)(Nt),Dt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onAddGroup=function(){var t=e.props,r=t.board,n=t.loggedInUser;(0,t.addGroupToBoard)(r,n._id)},e.onChangeBoardTitle=function(t){var r=e.props,n=r.board,a=r.loggedInUser;(0,r.updateBoard)({board:n,userId:a._id,newValue:t,type:"title"})},e.onUpdateBoardMembers=function(t,r){var n,a=e.props,s=a.board,o=a.loggedInUser,c=a.updateBoard,i=s.members;"remove"===r?n=i.filter((function(e){return e!==t})):(i.push(t),n=i),c({board:s,userId:o._id,newValue:n,type:"members"})},e.onDragEnd=function(t){var r=t.destination,n=t.source,a=(t.droppableId,t.type),s=(t.draggableId,e.props.board);if(r&&(r.droppableId!==n.droppableId||r.index!==n.index)){var o=JSON.parse(JSON.stringify(s));if("group"===a){var c=o.groups.splice(n.index,1),i=Object(Ue.a)(c,1)[0];o.groups.splice(r.index,0,i)}else if(n.droppableId===r.droppableId){var u=o.groups.findIndex((function(e){return e.id===r.droppableId})),l=o.groups[u],d=l.tasks.splice(n.index,1),p=Object(Ue.a)(d,1)[0];l.tasks.splice(r.index,0,p),o.groups.splice(u,1,l)}else{var b=o.groups.findIndex((function(e){return e.id===n.droppableId})),h=o.groups.findIndex((function(e){return e.id===r.droppableId})),f=o.groups[b],j=o.groups[h],m=f.tasks.splice(n.index,1),v=Object(Ue.a)(m,1)[0];j.tasks.splice(r.index,0,v),o.groups.splice(b,1,f),o.groups.splice(h,1,j)}e.props.onUpdateBoardAfterDrag(o)}},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.users;return t?Object(ie.jsxs)("div",{className:"board-preview flex column",children:[Object(ie.jsx)(at,{board:t,users:r,onAddGroup:this.onAddGroup,onChangeBoardTitle:this.onChangeBoardTitle,onUpdateBoardMembers:this.onUpdateBoardMembers}),Object(ie.jsx)(lt.a,{onDragEnd:this.onDragEnd,children:Object(ie.jsx)(lt.c,{droppableId:t._id,isCombineEnabled:!0,type:"group",children:function(e){return Object(ie.jsxs)("div",Object(he.a)(Object(he.a)({className:"groups-container flex column"},e.droppableProps),{},{ref:e.innerRef,children:[t.groups.map((function(e,n){return Object(ie.jsx)(At,{group:e,board:t,idx:n,users:r},e.id)})),e.placeholder]}))}})})]}):Object(ie.jsx)("div",{children:"Loading..."})}}]),r}(n.Component);var Ut={addGroupToBoard:function(e,t){return function(){var r=Object(l.a)(u.a.mark((function r(n){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,G.addGroupToBoard(e,t);case 3:a=r.sent,n({type:"UPDATE_BOARD",board:a}),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.log("board.action: err in addGroupToBoard():",r.t0),n({type:"UPDATE_BOARD",board:e});case 11:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},loadBoard:re,updateBoard:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.updateBoard(e);case 3:n=t.sent,r({type:"UPDATE_BOARD",board:n}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),r({type:"UPDATE_BOARD",board:e.board});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},onUpdateBoardAfterDrag:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"UPDATE_BOARD",board:e}),t.next=4,G.updateBoardAfterDrag(e);case 4:t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("board.action: err in onUpdateBoardAfterDrag():",t.t0),r({type:"UPDATE_BOARD",board:e});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},Bt=Object(c.b)((function(e){return{board:e.boardModule.board,loggedInUser:e.userModule.loggedInUser,users:e.userModule.users}}),Ut)(Dt),Tt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={filterBy:{name:""}},e.inputRef=a.a.createRef(),e.handleChange=function(t){var r=t.target.name,n="number"===t.target.type?+t.target.value:t.target.value;e.setState((function(e){var t=e.filterBy;return{filterBy:Object(he.a)(Object(he.a)({},t),{},Object(R.a)({},r,n))}}),(function(){e.props.onBoardFilter(e.state.filterBy)}))},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){this.inputRef.current.focus()}},{key:"render",value:function(){var e=this;return Object(ie.jsx)("section",{className:"board-filter-section flex column align-center",children:Object(ie.jsx)("form",{className:"flex column align-center",children:Object(ie.jsx)("div",{children:Object(ie.jsx)("input",{className:"inputTypeSearch",type:"search",name:"name",autoComplete:"off",placeholder:"Search by board",ref:this.inputRef,onChange:function(t){e.handleChange(t)}})})})})}}]),r}(a.a.Component),It=r(328),Mt=r.n(It),_t=r(327),Et=r.n(_t),Rt=r(662),Pt=r(330),Gt=r.n(Pt),Lt=r(331),Ft=r.n(Lt),Jt=r(329),Wt=r.n(Jt),Ht=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isAddTxt:!1,boardTitle:"",isNavShown:!0},e.onToggleAddInput=function(){e.setState({isAddTxt:!e.state.isAddTxt})},e.addBoard=function(t){t.preventDefault();var r=e.state.boardTitle;r&&e.props.onAddBoard(r),e.setState({isAddTxt:!e.state.isAddTxt,boardTitle:""})},e.handleChange=function(t){var r=t.target.value;e.setState({boardTitle:r})},e.onToggleBar=function(){e.setState({isNavShown:!e.state.isNavShown})},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this.props,t=e.boards,r=e.boardId,n=e.onRemoveBoard,a=e.onBoardFilter,s=this.state,o=s.isAddTxt,c=s.isNavShown;return Object(ie.jsxs)("nav",{className:"main-sidenav flex column ".concat(c?"":"hide"),children:[Object(ie.jsxs)("div",{className:"content-container ".concat(c?"":"opacity-hide"),children:[Object(ie.jsxs)("div",{className:"my-workspace flex",children:[Object(ie.jsx)("div",{className:"flex",children:"M"}),Object(ie.jsx)(Et.a,{className:"home-icon"}),Object(ie.jsx)("h1",{children:"My Workspace"})]}),Object(ie.jsx)(Tt,{onBoardFilter:a}),o?Object(ie.jsx)("form",{className:"add-board-form",style:{paddingLeft:"9px"},onSubmit:this.addBoard,children:Object(ie.jsx)(Je.a,{onClickAway:this.onToggleAddInput,children:Object(ie.jsx)(Rt.a,{style:{fontSize:"12px"},className:"add-board-input",type:"text",name:"board-title",autoComplete:"off",autoFocus:!0,required:!0,placeholder:"New Board title",onChange:this.handleChange})})}):Object(ie.jsxs)("div",{className:"add-board-btn flex align-center",onClick:this.addBoard,children:[Object(ie.jsx)(Mt.a,{style:{color:"7a7a82"}}),Object(ie.jsx)("span",{children:"Add board"})]}),Object(ie.jsx)("h1",{className:"my-boards-title",children:"My boards"}),Object(ie.jsx)("ul",{children:t.map((function(e){return Object(ie.jsx)("li",{className:"nav-a",children:Object(ie.jsxs)("div",{className:"board-link-container flex align-center  ".concat(e._id===r?"active":""),children:[Object(ie.jsx)(Wt.a,{style:{color:"#7a7a82"}}),Object(ie.jsx)(oe.b,{to:"/board/".concat(e._id),className:"clean-link sidebar-link",children:e.title}),1!==t.length&&Object(ie.jsx)(ut.a,{className:"delete-icon",onClick:function(){return n(e._id)}})]})},e._id)}))})]}),Object(ie.jsx)("button",{className:"toggle-nav-btn",onClick:this.onToggleBar,children:c&&Object(ie.jsx)(Gt.a,{className:"toggle-nav-close-icon"})||Object(ie.jsx)(Ft.a,{className:"toggle-nav-open-icon"})})]})}}]),r}(a.a.Component),Vt=function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onBoardFilter=function(t){e.props.loadBoards(e.props.loggedInUser._id,t)},e.loadBoard=function(){var t=e.props.match.params.id;e.props.loadBoard(t)},e.onAddBoard=function(t){var r=e.props,n=r.loggedInUser;(0,r.addBoard)(t,n._id)},e.onRemoveBoard=function(t){var r=e.props,n=r.removeBoard;1!==r.boards.length&&n(t)},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.loggedInUser,n=t.boards,a=this.props.match.params.id,r){e.next=5;break}return this.props.history.push("/"),e.abrupt("return");case 5:return e.next=7,Qe.setup();case 7:if(Qe.emit("board room",a),Qe.on("update board",this.props.updateBoardAfterSocket),n.length){e.next=12;break}return e.next=12,this.props.loadBoards(r._id);case 12:a&&(this.props.loadUsers(),this.loadBoard());case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){Qe.terminate(),Qe.off("update board",this.props.updateBoardAfterSocket)}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&(Qe.emit("board room",this.props.match.params.id),this.loadBoard(this.props.match.params.id))}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.boards,n=e.loggedInUser,a=(e.match,e.logout);return t?Object(ie.jsxs)("section",{className:"board-app-container flex",children:[Object(ie.jsx)(De,{user:n,logout:a}),Object(ie.jsx)(Ht,{boards:r,boardId:t._id,onBoardFilter:this.onBoardFilter,onRemoveBoard:this.onRemoveBoard,onAddBoard:this.onAddBoard}),Object(ie.jsx)(Bt,{})]}):Object(ie.jsx)("div",{className:"loading"})}}]),r}(a.a.Component);var qt={loadBoard:re,addBoard:ae,removeBoard:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.removeBoard(e);case 3:r({type:"REMOVE_BOARD",boardId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("board.action: err in removeBoard():",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadBoards:te,loadUsers:B,updateBoardAfterSocket:function(e){return function(){var t=Object(l.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"UPDATE_BOARD",board:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:_},zt=Object(c.b)((function(e){return{boards:e.boardModule.boards,board:e.boardModule.board,loggedInUser:e.userModule.loggedInUser}}),qt)(Vt),Xt=[{path:"/",component:be},{path:"/login/",component:Oe},{path:"/signup/",component:ke},{path:"/user/:id",component:function(e){Object(b.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(d.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:null},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getById(this.props.match.params.id);case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(ie.jsxs)("section",{className:"member-details",children:[Object(ie.jsx)("h1",{children:"User Details"}),this.state.user&&Object(ie.jsxs)("div",{children:[Object(ie.jsx)("h3",{children:this.state.user.fullname}),Object(ie.jsx)("pre",{children:JSON.stringify(this.state.user,null,2)})]})]})}}]),r}(n.Component)},{path:"/board/:id?",component:zt}],Kt=r(28);function Qt(){return Object(ie.jsx)(oe.a,{children:Xt.map((function(e){return Object(ie.jsx)(Kt.a,{exact:!0,component:e.component,path:e.path},e.path)}))})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(626);var Yt=r(59),Zt=r(332),$t={isLoading:!1};var er={boards:[],err:null,board:null};var tr={loggedInUser:w.getLoggedinUser(),users:[]};var rr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Yt.d,nr=Object(Yt.c)({systemModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOADING_START":return Object(he.a)(Object(he.a)({},e),{},{isLoading:!0});case"LOADING_DONE":return Object(he.a)(Object(he.a)({},e),{},{isLoading:!1});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(he.a)(Object(he.a)({},e),{},{loggedInUser:t.user});case"REMOVE_USER":return Object(he.a)(Object(he.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"SET_USERS":return Object(he.a)(Object(he.a)({},e),{},{users:t.users});case"SET_SCORE":return Object(he.a)(Object(he.a)({},e),{},{loggedInUser:Object(he.a)(Object(he.a)({},e.loggedInUser),{},{score:t.score})});default:return e}},boardModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(he.a)(Object(he.a)({},e),{},{boards:t.boards});case"SET_CURR_BOARD":return Object(he.a)(Object(he.a)({},e),{},{board:t.board});case"ADD_BOARD":return Object(he.a)(Object(he.a)({},e),{},{boards:[].concat(Object(E.a)(e.boards),[t.savedBoard])});case"UPDATE_BOARD":return Object(he.a)(Object(he.a)({},e),{},{board:t.board,boards:e.boards.map((function(e){return e._id===t.board._id?t.board:e}))});case"REMOVE_BOARD":return Object(he.a)(Object(he.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"BOARD_ERR":return Object(he.a)(Object(he.a)({},e),{},{err:t.err});default:return e}}}),ar=Object(Yt.e)(nr,rr(Object(Yt.a)(Zt.a))),sr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,669)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(ie.jsx)(c.a,{store:ar,children:Object(ie.jsx)(Qt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),sr()}},[[627,1,2]]]);
//# sourceMappingURL=main.018d074f.chunk.js.map